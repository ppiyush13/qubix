{"version":3,"file":"qubix.esm.js","sources":["../src/browser/load-externals.js","../src/slugify/index.js","../src/browser/load-js.js","../src/browser/index.js"],"sourcesContent":["import * as React from \"react\";\r\nimport * as Styled from \"styled-components\";\r\n\r\nwindow.qubix = {};\r\nwindow.qubix[\"react\"] = React;\r\nwindow.qubix[\"styled-components\"] = Styled;\r\n","import slugify from \"@sindresorhus/slugify\";\r\n\r\nexport default (pkgName) => {\r\n  const prefixPkgName = \"MF \" + pkgName + \" base url\";\r\n  const slug = slugify(prefixPkgName, {\r\n    separator: \"_\",\r\n    customReplacements: [[\"@font-face\", \"\"]],\r\n  });\r\n  return slug.toUpperCase();\r\n};\r\n","export default async (mfBaseUrl) => {\r\n  const response = await fetch(mfBaseUrl + \"main.js\");\r\n  const content = await response.text();\r\n\r\n  const js = parseJs(content);\r\n  return js.default();\r\n};\r\n\r\nconst parseJs = (content) => new Function(\"return \" + content).call();\r\n","import \"./load-externals\";\r\nimport slugify from \"../slugify\";\r\nimport loadJs from \"./load-js\";\r\n\r\nexport default {\r\n  register: function (mfMap) {\r\n    this.mfMap = mfMap;\r\n    Object.entries(mfMap).forEach(([key, value]) => {\r\n      console.log(slugify(key));\r\n      window.qubix[slugify(key)] = value;\r\n    });\r\n  },\r\n\r\n  resolve: function (mf) {\r\n    return this.mfMap[mf];\r\n  },\r\n\r\n  load: function (mf) {\r\n    return loadJs(this.mfMap[mf]);\r\n  },\r\n};\r\n"],"names":["window","qubix","React","Styled","pkgName","prefixPkgName","slug","slugify","separator","customReplacements","toUpperCase","mfBaseUrl","fetch","response","text","content","js","parseJs","Function","call","register","mfMap","Object","entries","forEach","key","value","console","log","resolve","mf","load","loadJs"],"mappings":";;;;AAGAA,MAAM,CAACC,KAAP,GAAe,EAAf;AACAD,MAAM,CAACC,KAAP,CAAa,OAAb,IAAwBC,KAAxB;AACAF,MAAM,CAACC,KAAP,CAAa,mBAAb,IAAoCE,MAApC;;ACHA,eAAe,UAACC,OAAD,EAAa;AAC1B,MAAMC,aAAa,GAAG,QAAQD,OAAR,GAAkB,WAAxC;AACA,MAAME,IAAI,GAAGC,SAAO,CAACF,aAAD,EAAgB;AAClCG,IAAAA,SAAS,EAAE,GADuB;AAElCC,IAAAA,kBAAkB,EAAE,CAAC,CAAC,YAAD,EAAe,EAAf,CAAD;AAFc,GAAhB,CAApB;AAIA,SAAOH,IAAI,CAACI,WAAL,EAAP;AACD,CAPD;;ACFA,wBAAsBC,SAAtB;AAAA,MAAoC;AAAA,2BACXC,KAAK,CAACD,SAAS,GAAG,SAAb,CADM,iBAC5BE,QAD4B;AAAA,6BAEZA,QAAQ,CAACC,IAAT,EAFY,iBAE5BC,OAF4B;AAIlC,YAAMC,EAAE,GAAGC,OAAO,CAACF,OAAD,CAAlB;AACA,eAAOC,EAAE,WAAF,EAAP;AALkC;AAAA;AAMnC,GAND;AAAA;AAAA;AAAA;;AAQA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACF,OAAD;AAAA,SAAa,IAAIG,QAAJ,CAAa,YAAYH,OAAzB,EAAkCI,IAAlC,EAAb;AAAA,CAAhB;;ACJA,YAAe;AACbC,EAAAA,QAAQ,EAAE,kBAAUC,KAAV,EAAiB;AACzB,SAAKA,KAAL,GAAaA,KAAb;AACAC,IAAAA,MAAM,CAACC,OAAP,CAAeF,KAAf,EAAsBG,OAAtB,CAA8B,gBAAkB;AAAA,UAAhBC,GAAgB;AAAA,UAAXC,KAAW;AAC9CC,MAAAA,OAAO,CAACC,GAAR,CAAYrB,OAAO,CAACkB,GAAD,CAAnB;AACAzB,MAAAA,MAAM,CAACC,KAAP,CAAaM,OAAO,CAACkB,GAAD,CAApB,IAA6BC,KAA7B;AACD,KAHD;AAID,GAPY;AASbG,EAAAA,OAAO,EAAE,iBAAUC,EAAV,EAAc;AACrB,WAAO,KAAKT,KAAL,CAAWS,EAAX,CAAP;AACD,GAXY;AAabC,EAAAA,IAAI,EAAE,cAAUD,EAAV,EAAc;AAClB,WAAOE,MAAM,CAAC,KAAKX,KAAL,CAAWS,EAAX,CAAD,CAAb;AACD;AAfY,CAAf;;;;"}